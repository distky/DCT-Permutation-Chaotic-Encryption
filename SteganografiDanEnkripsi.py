# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'SteganografiDanEnkripsi.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from function.DctEncrypt import processEncryptionAndStegano


class Ui_EnkripsiSteganografi(object):
    def setupUi(self, EnkripsiSteganografi):
        EnkripsiSteganografi.setObjectName("EnkripsiSteganografi")
        EnkripsiSteganografi.resize(642, 499)
        self.centralwidget = QtWidgets.QWidget(EnkripsiSteganografi)
        self.centralwidget.setObjectName("centralwidget")
        self.label = QtWidgets.QLabel(self.centralwidget)
        self.label.setGeometry(QtCore.QRect(20, 30, 71, 20))
        self.label.setObjectName("label")
        self.label_2 = QtWidgets.QLabel(self.centralwidget)
        self.label_2.setGeometry(QtCore.QRect(20, 80, 71, 20))
        self.label_2.setObjectName("label_2")
        self.citraSampulPath = QtWidgets.QLineEdit(self.centralwidget)
        self.citraSampulPath.setGeometry(QtCore.QRect(100, 30, 271, 20))
        self.citraSampulPath.setObjectName("citraSampulPath")
        self.citraSampulPath.setEnabled(False)
        self.citraPesanPath = QtWidgets.QLineEdit(self.centralwidget)
        self.citraPesanPath.setGeometry(QtCore.QRect(100, 80, 271, 20))
        self.citraPesanPath.setObjectName("citraPesanPath")
        self.citraPesanPath.setEnabled(False)
        self.btnCitraSampul = QtWidgets.QPushButton(self.centralwidget)
        self.btnCitraSampul.setGeometry(QtCore.QRect(400, 30, 75, 20))
        self.btnCitraSampul.setObjectName("btnCitraSampul")
        self.btnCitraSampul.clicked.connect(lambda: self.openDialog(self.citraSampulPath, dialogName='Citra Sampul'))
        self.btnCitraPesan = QtWidgets.QPushButton(self.centralwidget)
        self.btnCitraPesan.setGeometry(QtCore.QRect(400, 80, 75, 20))
        self.btnCitraPesan.setObjectName("btnCitraPesan")
        self.btnCitraPesan.clicked.connect(lambda: self.openDialog(self.citraPesanPath, dialogName='Citra Pesan'))
        self.label_3 = QtWidgets.QLabel(self.centralwidget)
        self.label_3.setGeometry(QtCore.QRect(20, 140, 121, 16))
        self.label_3.setObjectName("label_3")
        self.label_4 = QtWidgets.QLabel(self.centralwidget)
        self.label_4.setGeometry(QtCore.QRect(20, 180, 47, 21))
        self.label_4.setObjectName("label_4")
        self.label_5 = QtWidgets.QLabel(self.centralwidget)
        self.label_5.setGeometry(QtCore.QRect(20, 210, 47, 21))
        self.label_5.setObjectName("label_5")
        self.doubleSpinBoxX0 = QtWidgets.QDoubleSpinBox(self.centralwidget)
        self.doubleSpinBoxX0.setGeometry(QtCore.QRect(100, 180, 81, 22))
        self.doubleSpinBoxX0.setDecimals(8)
        self.doubleSpinBoxX0.setMaximum(1.0)
        self.doubleSpinBoxX0.setSingleStep(1e-08)
        self.doubleSpinBoxX0.setObjectName("doubleSpinBoxX0")
        self.doubleSpinBoxY0 = QtWidgets.QDoubleSpinBox(self.centralwidget)
        self.doubleSpinBoxY0.setGeometry(QtCore.QRect(100, 210, 81, 22))
        self.doubleSpinBoxY0.setDecimals(8)
        self.doubleSpinBoxY0.setMaximum(1.0)
        self.doubleSpinBoxY0.setSingleStep(1e-08)
        self.doubleSpinBoxY0.setObjectName("doubleSpinBoxY0")
        self.graphicsView = QtWidgets.QGraphicsView(self.centralwidget)
        self.graphicsView.setGeometry(QtCore.QRect(20, 280, 256, 192))
        self.graphicsView.setObjectName("graphicsView")
        self.btnEnkripsiDanStegano = QtWidgets.QPushButton(self.centralwidget)
        self.btnEnkripsiDanStegano.setGeometry(QtCore.QRect(20, 250, 141, 23))
        self.btnEnkripsiDanStegano.setObjectName("btnEnkripsiDanStegano")
        self.btnEnkripsiDanStegano.clicked.connect(self.encryptAndStegano)
        self.btnKembali = QtWidgets.QPushButton(self.centralwidget)
        self.btnKembali.setGeometry(QtCore.QRect(540, 450, 75, 21))
        self.btnKembali.setObjectName("btnKembali")
        EnkripsiSteganografi.setCentralWidget(self.centralwidget)
        self.statusbar = QtWidgets.QStatusBar(EnkripsiSteganografi)
        self.statusbar.setObjectName("statusbar")
        EnkripsiSteganografi.setStatusBar(self.statusbar)

        self.retranslateUi(EnkripsiSteganografi)
        QtCore.QMetaObject.connectSlotsByName(EnkripsiSteganografi)

    def retranslateUi(self, EnkripsiSteganografi):
        _translate = QtCore.QCoreApplication.translate
        EnkripsiSteganografi.setWindowTitle(_translate("EnkripsiSteganografi", "Enkripsi dan Steganografi"))
        self.label.setText(_translate("EnkripsiSteganografi", "Citra Sampul"))
        self.label_2.setText(_translate("EnkripsiSteganografi", "Citra Pesan"))
        self.btnCitraSampul.setText(_translate("EnkripsiSteganografi", "Open File"))
        self.btnCitraPesan.setText(_translate("EnkripsiSteganografi", "Open File"))
        self.label_3.setText(_translate("EnkripsiSteganografi", "Input Kunci X0 dan Y0"))
        self.label_4.setText(_translate("EnkripsiSteganografi", "Nilai X0"))
        self.label_5.setText(_translate("EnkripsiSteganografi", "Nilai Y0"))
        self.btnEnkripsiDanStegano.setText(_translate("EnkripsiSteganografi", "Enkripsi dan Steganografi"))
        self.btnKembali.setText(_translate("EnkripsiSteganografi", "Kembali"))
    
    def openDialog(self, lineEdit, dialogName = ""):
        options = QtWidgets.QFileDialog.Options()
        fileName, _ = QtWidgets.QFileDialog.getOpenFileName(EnkripsiSteganografi, dialogName, '',
                                                  'Images (*.tiff *.jpeg *.jpg *.bmp)', options=options)
        if fileName:
            lineEdit.setText(fileName)
            print(lineEdit.text())

    def encryptAndStegano(self):
        resultFile = processEncryptionAndStegano(self.citraSampulPath.text(), self.citraPesanPath.text(), self.doubleSpinBoxX0.value(), self.doubleSpinBoxY0.value())
        pix = QtGui.QPixmap(resultFile)
        item = QtWidgets.QGraphicsPixmapItem(pix)
        scene = QtWidgets.QGraphicsScene(EnkripsiSteganografi)
        scene.addItem(item)
        self.graphicsView.setScene(scene)


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    EnkripsiSteganografi = QtWidgets.QMainWindow()
    ui = Ui_EnkripsiSteganografi()
    ui.setupUi(EnkripsiSteganografi)
    EnkripsiSteganografi.show()
    sys.exit(app.exec_())
